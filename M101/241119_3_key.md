# KEY


### 상품 테이블
<table style="width:100%">
<tr>
<th>상품코드</th>
<th>회사명</th>
<th>단가</th>
</tr>
<tr>
<td>A</td>
<td>교촌</td>
<td>25,000</td>
</tr>
<tr>
<td>B</td>
<td>BBQ</td>
<td>30,000</td>
</tr>
<tr>
<td>C</td>
<td>네네</td>
<td>23,000</td>
</tr>
<tr>
<td>D</td>
<td>노랑통닭</td>
<td>22,000</td>
</tr>
</table>

### 판매 테이블
<table style="width:100%">
<tr>
<th>판매번호</th>
<th>상품코드</th>
<th>수량</th>
<th>판매일</th>
<th>판매금액</th>
</tr>
<tr>
<td>1</td>
<td>B</td>
<td>1</td>
<td>2024-11-19</td>
<td></td>
</tr>

<tr>
<td>2</td>
<td>A</td>
<td>1</td>
<td>2024-11-19</td>
<td></td>
</tr>

<tr>
<td>3</td>
<td>D</td>
<td>1</td>
<td>2024-11-19</td>
<td></td>
</tr>

<tr>
<td>4</td>
<td>C</td>
<td>1</td>
<td>2024-11-19</td>
<td></td>
</tr>

</table>


### 유일성 
특정 필드를 기준으로 테이블 내에서 유일하게 하나를 선택할 수 있다면 유일성을 만족하게 되며 위 상품테이블 예시에서 상품코드 기준으로 중복없이 회사명, 단가를 확인할 수 있다.



### 최소성
다른 컬럼과 결합하지 않아도 유일성이 유지되는 성질



### 키의 개념 및 종류 
상품 테이블에서 유일성, 최소성을 만족하는 필드는 상품코드 또는 회사명이다.
이러한 키를 후보키(Candidate key)라고 하며 후보키 중에서 하나가 기본키가 될 수 있으며 기본키(Primary Key, PK)는 개발자가 직접 지정한다.


후보키 중에서 기본키가 되지 못한 키를 대체키(Alternative Key)라고 하며 유일성은 만족하지만 최소성을 만족하지 못하는 키를 슈퍼키(Super Key)라고 한다.

판매 테이블이 상품코드 필드를 값으로 상품 테이블을 참조하여 상품코드가 B라면 상품명 네네, 단가 23000을 확인할 수 있다. 다른 테이블의 기본키를 참조하는 현재 테이블의 필드를 외래키(Foreign Key, FK)라고 한다 



### 무결성 

참조 무결성에는 개체, 참조, 도메인이 있다

개체 무결성 : 기본키(Primary Key, PK)는 중복 값 입력과 null도 불가능하다.

도메인 무결성 : 성별 필드의 경우 남, 여의 값만 저장되어야한다.

참조 무결성 : 



#### 외래키가 기본키를 참조할 때 참조 무결성이 발생 가능한 상황

1. 상품 테이블 - 데이터 삽입 : X, 새로운 상품코드가 생겨 무관하다
2. 상품 테이블 - 데이터 삭제 : O, 참조 못할 수 있음
3. 상품 테이블 - 데이터 수정 : O, 참조 못할 수 있음
4. 판매 테이블 - 데이터 삽입 : O, 잘못된 값 삽입
5. 판매 테이블 - 데이터 삭제 : X, 참조할 테이블에 문제가 없기 때문에 가능성이 없다
6. 판매 테이블 - 데이터 수정 : O, 외래키가 수정되면 참조 무결성 발생

따라서 상품 테이블의 데이터 삽입 또는 판매 테이블의 데이터 삭제는 참조 무결성이 발생할 가능성이 없다.







## 정리 

1. 후보키(Candidate key) : 유일성, 최소성을 만족하는 키
2. 기본키(Primary Key, PK) : 후보키 중에서 선택
3. 대체키(Alternative Key) : 기본키가 되지 못한 후보키 
4. 슈퍼키(Super Key) : 유일성은 만족하나 최소성을 만족하지 못하는 키
5. 외래키(Foreign Key, FK) : 다른 테이블의 기본키를 참조하는 현재 테이블의 필드
6. 기본키는 중복 값 입력과 null도 불가능 => 개체 무결성